<div class="card">
  <table>
    <thead>
      <tr>
        <th *ngFor="let key of tableKey">{{key}}</th>
      </tr>
    </thead>
  <tbody>
    <tr *ngFor="let tb of array">
      <td>{{tb.Name}}</td>
      <td>{{tb.Adress}}</td>
      <td>{{tb.Email}}</td>
    </tr>
  </tbody>
</table>
  <p-table [value]="bankDmcls" dataKey="nmBank" [tableStyle]="{ 'min-width': '60rem' }">
      <ng-template pTemplate="header">
          <tr>
              <th style="width: 5rem"></th>
              <th pSortableColumn="nmBank">Banco <p-sortIcon field="nmBank"></p-sortIcon></th>
              <th pSortableColumn="cdBank">Codigo do banco <p-sortIcon field="cdBank"></p-sortIcon></th>
              <th pSortableColumn="cdAgency">Agência<p-sortIcon field="cdAgency"></p-sortIcon></th>
              <th pSortableColumn="cdCurrentAcount">Conta <p-sortIcon field="cdCurrentAcount"></p-sortIcon></th>
              <th pSortableColumn="cdDigitCurrentAcount">Digito da Conta <p-sortIcon field="cdDigitCurrentAcount"></p-sortIcon></th>
              <th pSortableColumn="isActive">Status<p-sortIcon field="isActive"></p-sortIcon></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-bankDmcl let-expanded="expanded">
          <tr>
              <td>
                  <button type="button" pButton pRipple [pRowToggler]="bankDmcl" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
              </td>
              <td>
                <img [src]="'assets/images/' + bankDmcl.cdBank + '.png'" [alt]="bankDmcl.nmBank" width="40" class="shadow-1" />
                {{ bankDmcl.nmBank }}
              </td>

              <td>{{ bankDmcl.cdBank }}</td>
              <td>{{ bankDmcl.cdAgency }}</td>
              <td>{{ bankDmcl.cdCurrentAcount}}</td>
              <td>{{ bankDmcl.cdDigitCurrentAcount}}</td>
              <td>
                  <p-tag [value]="bankDmcl.isActive" [severity]="getSeverity(bankDmcl.isActive)"></p-tag>
              </td>
          </tr>
      </ng-template>
      <ng-template pTemplate="rowexpansion" let-bankDmcl>
          <tr>
              <td colspan="7">
                  <div class="p-3">
                      <p-table [value]="bankDmcl.domicileGroups" dataKey="id">
                          <ng-template pTemplate="header">
                              <tr>
                                  <th pSortableColumn="nmCardType">Nome da Bandeira <p-sortIcon field="nmCardType"></p-sortIcon></th>
                                  <th pSortableColumn="cdCardType">Código Bandeira <p-sortIcon field="cdCardType"></p-sortIcon></th>
                                  <th pSortableColumn="nmSettlementType">Tipo de Liquidação <p-sortIcon field="nmSettlementType"></p-sortIcon></th>
                                  <th pSortableColumn="nmDomicileGroup">Grupo de Domicílio<p-sortIcon field="nmDomicileGroup"></p-sortIcon></th>
                                  <th pSortableColumn="isActive">Status <p-sortIcon field="isActive"></p-sortIcon></th>
                                  <th style="width: 4rem"></th>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-bankDmcl>
                              <tr>
                                  <td>{{ bankDmcl.nmCardType }}</td>
                                  <td>{{ bankDmcl.cdCardType }}</td>
                                  <td>{{ bankDmcl.nmSettlementType }}</td>
                                  <td>{{ bankDmcl.nmDomicileGroup }}</td>
                                  <td>
                                      <p-tag [value]="bankDmcl.isActive" [severity]="getStatusSeverity(bankDmcl.isActive)"></p-tag>
                                  </td>
                                  <td><p-button type="button" icon="pi pi-plus"></p-button></td>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="emptymessage">
                              <tr>
                                  <td colspan="6">There are no order for this product yet.</td>
                              </tr>
                          </ng-template>
                      </p-table>
                  </div>
              </td>
          </tr>
      </ng-template>
  </p-table>
</div>
